---
slug: 2024-前端性能优化
title: 前端性能优化
date: 2024-12-8
authors: mr

tags: [前端, 性能优化]
keywords: [前端, 性能优化]
description: 记录前端性能优化的技巧和知识笔记
---

前端性能优化是开发过程中至关重要的一环，它不仅能显著提升网站的加载速度，减少资源消耗，还能改善用户体验。同时，优化性能也有助于增强用户粘性，提高转化率。

本文将探讨性能指标及其优化技巧，并阐述这些因素的重要性。

<!-- truncate -->

## 参考资料

[Google官方性能指标介绍](https://developer.chrome.com/docs/lighthouse/performance/first-contentful-paint?hl=zh-cn)

### 性能优化技巧

#### 文本压缩

> 提高FCP,SI,LCP

前端打包配置webpack等，开启gzip压缩。后端，nginx开启gzip压缩也行。
主要是通过gzip原理等LZ77，huffman编码，压缩源码。gzip比zip更专注于流式压缩

LZ77 滑动窗口。重复部分替换索引。
huffman上过课都知道

#### 优化图片偏移

> 提高CLS（累积布局偏移）

常见的导致布局偏移原因以及解决方案：

-图片没有指定尺寸，导致加载时内容位置变化；  
解决方案：在 `<img>` 标签中明确指定 width 和 height 属性；

- 动态加载的内容（如广告）没有预留空间；  
解决方案：为广告、动态内容等预留固定的占位元素；

- 使用字体时，字体加载后替换了默认字体；  
解决方案：使用 font-display: swap 避免字体加载时的布局抖动。

#### 延迟加载js脚本

> 提高FCP,LCP

js有defer和async两种属性，defer是延迟加载，async是异步加载。

- defer：延迟加载，等html解析完，再执行js脚本。
- async：异步加载，加载完js脚本，立即执行。**会堵塞渲染线程**

![image](https://html.spec.whatwg.org/images/asyncdefer.svg)

#### 减少JS执行时间

- 节流防抖
- useCallback,useMemo
- ...

#### 缩减资源体积

- 图片格式压缩为webp
- ...

#### 预加载LCP图片

- 按需导入
- preload

#### 延迟加载部分资源

- 图片懒加载
- 组件懒加载
- 路由懒加载

<p align="right">写于2024年12月8日    By 芒果🥭</p>
